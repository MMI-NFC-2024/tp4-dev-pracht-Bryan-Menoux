---
import penguins from "../assets/penguins.json";
import PlotFigure from "../components/PlotFigure.astro";
import * as Plot from "@observablehq/plot";

const species = Astro.props.species;
const penguinsFiltered = penguins.filter((p) => p.species === species);
---

<div
  class="flex flex-col items-center my-16 bg-red-100 rounded-2xl p-6 shadow-lg border-2 border-red-300 max-w-[80dvw] mx-auto"
>
  <h1>{species} Penguins</h1>
  <PlotFigure
    options={{
      marks: [
        Plot.dot(penguinsFiltered, {
          x: "culmen_length_mm",
          y: "culmen_depth_mm",
          stroke: "species",
        }),
      ],
    }}
  />
  <p class="mt-4 text-center text-gray-600">
    Ce tableau comporte les données de {penguinsFiltered.length} pingouins de l'espèce
    {species}.
  </p>
</div>
